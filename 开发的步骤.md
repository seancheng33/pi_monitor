## 开发步骤

- 创建项目的虚拟环境，在项目的目录里面，通过下面的命令创建一个python的虚拟环境。
```
python -m venv venv
```
  win下：创建后在虚拟环境的目录里面的Scripts目录下执行activate开启虚拟环境。
```
venv\Scripts\activate
```
  linux下：创建后在虚拟环境的目录里面的bin目录下执行activate开启虚拟环境。
```
source venv/bin/activate
```




- 安装各类插件，包括了django、django-rest-framework、mongoengine。
django是建站用的，djanggo-rest-framework框架是序列化rest接口用的。
  mongoengine用于连接mongodb数据库。
```
pip install django
pip install django-rest-framework
pip install mongoengine
```
  
- 建立django的项目
```
django-admin startproject pi_monitor .
```
- 修改django的配置文件settings.py```ALLOWED_HOSTS = []```为
  ```ALLOWED_HOSTS = ['*']```开启可以任意ip访问，也可以在这里指定
  为访问指定的内容才可以访问。后期可以根据实际的情况修改，只要内容是list的形式即可
  
- 修改数据库的连接部分，将原来默认的连接sqlite修改为连接mongodb
  原来的部分
```
DATABASES = {
    'default': {
        'ENGINE': 'django.db.backends.sqlite3',
        'NAME': BASE_DIR / 'db.sqlite3',
    }
}
```
  修改后
```
DATABASES = {
    'default': {
        'ENGINE': None, # 把默认的数据库连接至为None
    }
}
from mongoengine import connect
connect('数据库的库名',host='数据库ip',port=数据库的端口号,username='用户名',password='密码',authentication_source='admin') # 连接的数据库名称
```

